/* ---- Accessible and animated checkbox ----
    Requires the markup to wrap a checkbox-input and a label (in that order!)
    in an element with class "checkbox"
*/

@keyframes checkmark {
    0% { height: 0; width: 6px; }
    50% { height: 11px; width: 6px; }
}

.checkbox {
    > input[type="checkbox"] {
        opacity: 0;
        position: absolute;
        cursor: pointer;

        &:checked + label:before,
        &:hover + label:before,
        &:focus + label:before,
        &:active + label:before {
          outline: none;
        }

        &:hover + label:before {
          border-color: @blue-royal-light-wcag;
        }

        &:active + label:before,
        &:focus + label:before {
          border-color: @blue-royal-light-wcag;
          box-shadow: 0 0 0 2px @blue-focus;
        }

        &:checked + label:before {
          border-color: @blue-royal-light-wcag;
          background-color: @blue-royal-light-wcag;
        }

        &:focus + label:before {
          box-shadow: 0 0 0 2px @blue-focus;
        }



        &:checked + label:after {
            animation: checkmark 0.4s;
            border-color: white;
        }
    }

    > label {
        position: relative;

        &:before {
            border: solid 2px @grey;
            border-radius: 2px;
            content: '';
            display: inline-block;
            height: 20px;
            margin-right: 15px;
            position: relative;
            top: 3px;
            transition: all 0.2s;
            width: 20px;
            background-color: white;
        }

        &:after {
            transform: scaleX(-1) rotate(180deg + -45deg);
            transform-origin: left top;

            border-right: 3px solid transparent;
            border-top: 3px solid transparent;

            content: '';
            display: block;
            height: 11px;
            width: 6px;
            left: 4px;
            top: 11px;
            position: absolute;
        }
    }
}

.error .checkbox {
   > label:before {
      border-color: @orange-wcag;
   }
}